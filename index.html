<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Responsive Store</title>

    <style>

        body {

            font-family: Arial, sans-serif;

            margin: 0;

            padding: 0;

            background-color: #f4f4f9;

        }

        .main-wrapper {

            max-width: 1100px;

            margin: 20px auto;

            padding: 20px;

            background-color: #ffffff;

            border-radius: 10px;

            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);

        }

        header {

            display: flex;

            justify-content: space-between;

            align-items: center;

            background-color: #4CAF50;

            color: white;

            padding: 10px 20px;

            border-radius: 10px;

            margin-bottom: 15px;

            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);

        }

        .total-sale {

            font-size: 1.2em;

            font-weight: bold;

        }

        .menu-btn {

            background: none;

            border: none;

            color: white;

            font-size: 1.8em;

            cursor: pointer;

            transition: transform 0.2s ease-in-out;

        }

        .menu-btn:hover {

            transform: scale(1.1);

        }

        .form-section {

            background-color: #ffffff;

            padding: 15px;

            border-radius: 10px;

            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

            margin-bottom: 15px;

        }

        .form-section h2 {

            font-size: 1.4em;

            margin-bottom: 10px;

            color: #333;

            text-align: center;

        }

        .form-section input {

            margin: 8px 0;

            padding: 12px;

            width: 100%;

            box-sizing: border-box;

            border: 1px solid #ddd;

            border-radius: 5px;

            font-size: 1em;

        }

        .form-section button {

            padding: 12px 20px;

            background-color: #4CAF50;

            color: white;

            border: none;

            border-radius: 5px;

            font-size: 1.2em;

            cursor: pointer;

            transition: all 0.3s ease-in-out;

        }

        .form-section button:hover {

            background-color: #45a049;

            transform: translateY(-3px);

        }

        .sales-section {

            background-color: #eaf9ea;

            border: 1px solid #4CAF50;

            padding: 10px;

            border-radius: 10px;

            margin-bottom: 15px;

            text-align: center;

            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

        }

        .sales-section h3 {

            font-size: 1.5em;

            color: #333;

            margin: 0 0 10px 0;

        }

        .sale-summary {

            font-size: 1.0em;

            color: #4CAF50;

            font-weight: bold;

        }

        .sale-summary strong {

            font-size: 0.9em;

        }

        footer {

            background-color: #4CAF50;

            color: white;

            padding: 15px 0;

            text-align: center;

            border-radius: 10px;

            margin-top: 20px;

        }

        footer nav ul {

            display: flex;

            justify-content: center;

            list-style: none;

            padding: 0;

            margin: 0 0 10px;

        }

        footer nav ul li {

            margin: 0 15px;

        }

        footer nav ul li a {

            text-decoration: none;

            color: white;

            font-size: 1.1em;

            transition: color 0.3s ease-in-out;

        }

        footer nav ul li a:hover {

            color: #a7ffae;

        }

        /* Modal CSS */

        #history-modal {

            display: none;

            position: fixed;

            top: 10%;

            left: 10%;

            width: 80%;

            height: 80%;

            background-color: white;

            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);

            border-radius: 10px;

            overflow-y: scroll;

            padding: 20px;

            z-index: 1001;

        }

        #history-modal h2 {

            text-align: center;

            color: #333;

        }

        #history-modal button {

            position: absolute;

            top: 10px;

            right: 10px;

            padding: 5px 10px;

            font-size: 16px;

            background-color: #4CAF50;

            color: white;

            border: none;

            border-radius: 5px;

            cursor: pointer;

        }

    </style>

</head>

<body>

<div class="main-wrapper">

    <!-- Header -->

    <header>

        <div class="header-left">

            <button class="menu-btn" id="menu-btn">☰</button>

        </div>

        <div class="header-right">

            <div class="total-sale" id="total-sale">Total Sale: ৳0.00</div>

        </div>

    </header>

    <!-- Last Sale (Calculator View) -->

    <div class="sales-section">

        <h3>Last Sale</h3>

        <div class="sale-summary" id="sale-summary">No sales yet.</div>

    </div>

    <!-- Product Entry -->

    <div class="form-section">

        <h2>Product Entry</h2>

        <input type="text" id="shop-name" placeholder="Shop Name">

        <input type="text" id="product-name" placeholder="Product Name">

        <input type="number" id="product-price" placeholder="Product Price">

        <input type="number" id="product-quantity" placeholder="Product Quantity">

        <button onclick="generateSale()">Generate Sale</button>

    </div>

    <!-- Footer -->

    <footer>

        <nav>

            <ul>

                <li><a href="index.html">Home</a></li>

                <li><a href="about.html">About</a></li>

                <li><a href="contact.html">Contact</a></li>

                <li><a href="privacy-policy.html">Privacy Policy</a></li>

            </ul>

        </nav>

    </footer>

</div>

<!-- Modal for Full Sales History -->

<div id="history-modal">

    <h2>Full Sales History</h2>

    <div id="history-content"></div>

    <button onclick="closeModal()">Close</button>

</div>

<!-- Menu Popup -->

<div id="menu-popup" class="menu-popup">

    <a href="#" onclick="openFullSalesHistory()">Full Sales History</a>

    <a href="#" onclick="downloadSalesHistory()">Download Sales History</a>

    <a href="#" onclick="closeStore()">Close Store</a>

    <button onclick="closeMenu()">✖</button>

</div>

<script>

    let salesData = JSON.parse(localStorage.getItem("salesData")) || [];

    let shopNameStored = localStorage.getItem("shopName");

    // Menu toggle logic

    const menuBtn = document.getElementById('menu-btn');

    const menuPopup = document.getElementById('menu-popup');

    menuBtn.addEventListener('click', function () {

        menuPopup.style.display = menuPopup.style.display === 'flex' ? 'none' : 'flex';

    });

    function closeMenu() {

        menuPopup.style.display = 'none';

    }

    function openFullSalesHistory() {

        const salesHistory = salesData.map((sale, index) => `

            <div>

                <strong>#${index + 1}</strong><br>

                <strong>Shop:</strong> ${sale.shopName}<br>

                <strong>Product:</strong> ${sale.productName}<br>

                <strong>Quantity:</strong> ${sale.productQuantity}<br>

                <strong>Total:</strong> ৳${sale.total.toFixed(2)}<br>

                <strong>Time:</strong> ${sale.time}<br>

                <hr>

            </div>

        `).join('');

        if (!salesHistory) {

            alert("No sales history available.");

            return;

        }

        const modal = document.getElementById("history-modal");

        document.getElementById("history-content").innerHTML = salesHistory;

        modal.style.display = "block";

    }

    function closeModal() {

        const modal = document.getElementById("history-modal");

        modal.style.display = "none";

    }

    function downloadSalesHistory() {

        const blob = new Blob([JSON.stringify(salesData, null, 2)], { type: "text/json" });

        const link = document.createElement("a");

        link.href = URL.createObjectURL(blob);

        link.download = "sales-history.json";

        link.click();

    }

    function generateSale() {

        const shopName = document.getElementById("shop-name").value;

        const productName = document.getElementById("product-name").value;

        const productPrice = parseFloat(document.getElementById("product-price").value);

        const productQuantity = parseInt(document.getElementById("product-quantity").value);

        if (!shopName || !productName || isNaN(productPrice) || isNaN(productQuantity)) {

            alert("Please fill out all fields correctly.");

            return;

        }

        const sale = {

            shopName,

            productName,

            productPrice,

            productQuantity,

            total: productPrice * productQuantity,

            time: new Date().toLocaleString()

        };

        salesData.push(sale);

        localStorage.setItem("salesData", JSON.stringify(salesData));

        document.getElementById("sale-summary").innerHTML = `

            <strong>Shop:</strong> ${sale.shopName}<br>

            <strong>Product:</strong> ${sale.productName}<br>

            <strong>Total:</strong> ৳${sale.total.toFixed(2)}

        `;

        document.getElementById("total-sale").textContent = `Total Sale: ৳${salesData.reduce((acc, cur) => acc + cur.total, 0).toFixed(2)}`;

    }

</script>

</body>

</html>
